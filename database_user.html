<!DOCTYPE html>
<html>

<head>

  <script>
    var v_user = JSON.parse(localStorage.getItem("arr_name"));
    var v_pass = JSON.parse(localStorage.getItem("arr_pass"));
    var v_mail = JSON.parse(localStorage.getItem("arr_mail"));
    var v_phone = JSON.parse(localStorage.getItem("arr_phone"));

    function fill() {

      //loop to create this elements
      /*  
        <label for="username">1- username: </label>
        <input name="username" type="text" disabled="" class="tex_b">
        <label for="password">password: </label>
        <input name="password" type="text" class="tex_b">
        <label for="email">email: </label>
        <input name="email" type="text" class="tex_b">
        <label for="phone">phone: </label>
        <input name="phone" type="text" class="tex_b">
        <input type="button" value="Delete" class="del" id="0" onclick="del(this.id)">
        <input type="button" value="Update" class="update" id="0" onclick="update(this.id)">
        <br>
    */
      for (var i = 0; i < v_user.length; i++) {
        var pa = document.getElementById("ta");
        var lab_1 = document.createElement("label");
        var lab_2 = document.createElement("label");
        var lab_3 = document.createElement("label");
        var lab_4 = document.createElement("label");

        lab_1.setAttribute("for", "username");
        lab_1.innerText = (i + 1) + "-" + " username: ";

        lab_2.setAttribute("for", "password");
        lab_2.innerText = "password: ";

        lab_3.setAttribute("for", "email");
        lab_3.innerText = "email: ";

        lab_4.setAttribute("for", "phone");
        lab_4.innerText = "phone: ";

        var tex_1 = document.createElement("input");
        var tex_2 = document.createElement("input");
        var tex_3 = document.createElement("input");
        var tex_4 = document.createElement("input");

        tex_1.setAttribute("name", "username");
        tex_1.value = v_user[i];
        tex_1.type = "text";
        tex_1.disabled = true;
        tex_1.className = "tex_b"

        tex_2.setAttribute("name", "password");
        tex_2.value = v_pass[i];
        tex_2.type = "text";
        tex_2.className = "tex_b"

        tex_3.setAttribute("name", "email");
        tex_3.value = v_mail[i];
        tex_3.type = "text";
        tex_3.className = "tex_b"


        tex_4.setAttribute("name", "phone");
        tex_4.value = v_phone[i];
        tex_4.type = "text";
        tex_4.className = "tex_b"

        var bu_de = document.createElement("input");
        bu_de.type = "button";
        bu_de.value = "Delete";
        bu_de.className = "del";
        bu_de.id = i;
        bu_de.setAttribute("onClick", "del(this.id)");

        var bu_update = document.createElement("input");
        bu_update.type = "button";
        bu_update.value = "Update";
        bu_update.className = "update";
        bu_update.id = i;
        bu_update.setAttribute("onClick", "update(this.id)");



        pa.appendChild(lab_1);
        pa.appendChild(tex_1);
        pa.appendChild(lab_2);
        pa.appendChild(tex_2);
        pa.appendChild(lab_3);
        pa.appendChild(tex_3);
        pa.appendChild(lab_4);
        pa.appendChild(tex_4);
        pa.appendChild(bu_de);
        pa.appendChild(bu_update);
        pa.appendChild(document.createElement("br"));
      }
    }

    function del(_id) {

      //string to integer
      var _index = parseInt(_id);

      //delete element from array
      v_user.splice(_index, 1);
      v_pass.splice(_index, 1);
      v_mail.splice(_index, 1);
      v_phone.splice(_index, 1);

      // save array after delete element in localstorage
      localStorage.setItem("arr_name", JSON.stringify(v_user));
      localStorage.setItem("arr_pass", JSON.stringify(v_pass));
      localStorage.setItem("arr_mail", JSON.stringify(v_mail));
      localStorage.setItem("arr_phone", JSON.stringify(v_phone));
      location.reload();
    }

    function update(_id) {
       //string to integer
      var _index = parseInt(_id);

       //select new value from text box 
      v_user[_index] = document.getElementsByClassName("tex_b")[(_index * 4) + 0].value;
      v_pass[_index] = document.getElementsByClassName("tex_b")[(_index * 4) + 1].value;
      v_mail[_index] = document.getElementsByClassName("tex_b")[(_index * 4) + 2].value;
      v_phone[_index] = document.getElementsByClassName("tex_b")[(_index * 4) + 3].value;

      //save array after update in localstorage
      localStorage.setItem("arr_name", JSON.stringify(v_user));
      localStorage.setItem("arr_pass", JSON.stringify(v_pass));
      localStorage.setItem("arr_mail", JSON.stringify(v_mail));
      localStorage.setItem("arr_phone", JSON.stringify(v_phone));
      location.reload();
    }
  </script>

  <title>Admin | Triplick's</title>
  <link rel="stylesheet" href="database_user.css">
  <link rel="shortcut icon" href="imgs/favicon.svg" type="image/x-icon">

</head>

<body onload="fill()">

  <header>
    <div class="header">
      <img src="imgs/logo.svg" alt="Logo was here" class="logo" width="300px">
      <div class="menubtn">
        <img src="imgs/menubtn.svg" class="menubtnimg menubtn" alt="Menu Button" width="70px" height="70px" />
        <br>
        <nav>
          <div class="allmenu"><br>
            <a href="index.html">Home</a><br>
            <a href="about.html">About</a><br>
            <a href="main.html">Offers</a><br>
            <a href="contact_us.html">Contact Us</a><br> <br>
          </div>
        </nav>
      </div> <a href="login.html" class="loginbtn"><img src="imgs/Loginbtn.svg" alt="Login Button" width="70px"
          height="70px" class="loginbtnimg" /></a>
    </div>
  </header>

  <div class="header2">

    <div class="_out">
      <a href="database_product.html"> Products Data Management </a>
    </div>
    <div class="_in">
      Customer Data Management
    </div>


  </div>

  <div id="ta">
    <!--
    <label for="username">1- username: </label>
    <input name="username" type="text" disabled="" class="tex_b">
    <label for="password">password: </label>
    <input name="password" type="text" class="tex_b">
    <label for="email">email: </label>
    <input name="email" type="text" class="tex_b">
    <label for="phone">phone: </label>
    <input name="phone" type="text" class="tex_b">
    <input type="button" value="Delete" class="del" id="0" onclick="del(this.id)">
    <input type="button" value="Update" class="update" id="0" onclick="update(this.id)">
    <br>
    -->


  </div>
  <footer class="footer">
    <h3>This website is developed by <span id="teamname">Triple Tags</span> team</h3>
  </footer>

</body>

</html>
